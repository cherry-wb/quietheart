w3m 使用总结

w3m是个开放源代码的命令行下面的网页浏览器。一般的linux系统都会自带这个工具，可以通过它在命令行下面浏览网页。本文介绍这个工具的使用方法。 


[功能] 
w3m是个开放源代码的命令行下面的网页浏览器。 它支持表格、框架、SSL连线、颜色。如果是在适当的terminal上，甚至还支持“inline image”。 这个软件通常尽量呈现出网页本来的编排。 


*常用交互式命令： 
下面列出启动w3m之后常用的交互命令，更多命令参见帮助。 

1)光标移动 

SPC,C-v 向下翻页 

b,ESC v 向上翻页 

l,C-f 焦点向右 

h,C-b 焦点向左 

j,C-n 焦点向下 

k,C-p 焦点向上 

J 向上滚动一行 

K 向下滚动一行 

^,C-a 到行首 

$,C-e 到行尾 

w 到下一个单词 

W 到上一个单词 

> 右移一屏 

< 左移一屏 

. 屏幕右移一列 

, 屏幕左移一列 

g,M-< 到首行 

G,M-> 到末行 

ESC g 到指定行 

Z 当前行居中 

z 当前列居中 

TAB 转到下个超链接 

C-u,ESC TAB 到上个超链接 

[ 到第一个超链接 

] 到最后一个超链接 


2）超链接操作 

RET 打开超链接 

a, ESC RET 链接另存为 

u 查看链接url 

i 查看图片url 

I 查看图片 

ESC I 图片另存为 

: 标记rul字符串为锚点 

ESC : 标记ID串为锚点 

c 查看当前页面的URL 

= 显示当前页面属性 

C-g 查看当前行号 

C-h 查看历史记录 

F 提交表单 

M 用外部浏览器打开当前页面 (use 2M and 3M to invoke second and third browser) 

ESC M 用外部浏览器打开链接 (use 2ESC M and 3ESC M to invoke second and third browser) 


3）文件/流 操作 

U 打开URL 

V 打开文件 

@ 执行外部命令并导入 

# 执行外部命令并浏览 


4）缓存操作 

B 返回 

v 查看源代码 

s 选择缓存 

E 编辑缓存代码 

C-l 重画屏幕 

R 刷新 

S 页面另存为 

ESC s 源码另存为 

ESC e 编辑图片 


缓存择模式（也就是了s以后） 

k, C-p 上一缓存 

j, C-n 下一缓存 

D 删除当前缓存 

RET 转至选择的缓存 


5）书签操作 

ESC b 打开书签 

ESC a 添加当前页到书签 


6）搜索 

/,C-s 向前搜索 

?,C-r 向后搜索 

n 下一个 

N 上一个 

C-w 打开/关闭 循环搜索 


7）标记 

C-SPC 设定/取消 标记（这个键一般被输入法占用了） 

ESC p 转至上一标记 

ESC n 转至下一标记 

" 使用正则表达式标记 


8）杂项 

! 执行外部命令 

H 帮助 

o 设置选项 

C-k 显示接受到的cookie 

C-c 停止 

C-z 挂起（退出） 

q 退出（需确认） 

Q 退出而不确认 


9)行编辑模式 

也就是输入"U"之后，开始输入url时候的状态。 

C-f 光标向后 

C-b 光标向前 

C-h 删除前一字符 

C-d 删除当前字符 

C-k 删除光标后所有内容 

C-u 删除光标前所有内容 

C-a 光标到行首 

C-e 光标到行尾 

C-p 取得历史记录中的前一个词 

C-n 取得历史记录中的后一个词 

TAB,SPC 自动完成文件名 

RETURN 确定 


[举例] 

*以网址启动w3m 

$w3m www.baidu.com 

这样打开w3m，并且以网页打开。（如果提示不能浏览框架，试试提示中的链接） ,注意,如果机器需要代理上网,那么应该设置一个变量:http_proxy ,设置的方法: "export http_proxy=http://user:password@ip.com".这里,user就是用户名,password就是该用户的密码,ip 就是代理服务器的ip地址.


*支持简体中文的启动： 

$w3m http://www.baidu.com -o display_charset=GB2312 

这里，时候网页无法显示中文，那么可以尝试用这种方法启动。 


**进入w3m之后的操作

这里简单介绍浏览网页时候常用的一些操作，如果想要知道更多的操作，请查看交互状态下，"H"命令之后显示的帮助信息。 

*显示帮助信息： 

输入"H". 


*返回上次页面： 

输入"B". 

这里包括帮助页面，上次的网址等等。 


*查看历史url: 

输入"[Ctrl]h". 

这样会查看你访问过的页面，输入B可以返回。 


*输入指定网址： 

输入"U". 

这是在启动w3m之后进行的，输入之后，可以在底部输入你想要访问的网址。 


*屏幕上一页： 

输入"b". 


*屏幕下一页： 

输入"[空格]". 


*添加书签： 

输入"[Esc]a". 


*列出书签: 

输入"[Esc]b". 


*建立新的标签： 

输入"T". 

这样会新开一个标签，内容和当前的网页一样。 


*在新的标签中打开链接： 

输入"[Ctrl]t". 

这里，需要先停在相应的链接上面。会新开一个标签，并且在其中显示对应的网页，适合想要同时显示多个网页的情况。 


*切换到上一个标签： 

输入"{". 


*切换到下一个标签： 

输入"}". 


*弹出标签选择菜单： 

输入"[Esc]t". 

这样会弹出一个菜单，然后可以选择你想要进入的标签。 


*关闭当前标签： 

输入"[Ctrl]q". 

这样会关闭当前标签。 


*弹出链接列表菜单： 

输入"[Esc]m". 

或"[Esc]l". 

这样显示出当前页面所链接列表，可以择相应链接并且进入。 


*退出弹出菜单： 

输入"h". 

或"[Ctrl]h". 

或"[Left]". 


*显示当前行： 

输入"[Ctrl]g". 


*去指定行： 

输入"[Esc]g". 

这样，之后输入行号将会跳到指定的行号。 


*连同光标向下滚动： 

输入"J". 


*连同光标向上滚动： 

输入"K". 


*光标向上移动： 

输入"k". 

或输入"[上箭头]". 

这里，方向移动的指令和vim编辑器中的一样，如果上下超过了页面边缘，那么会自动滚动半页使光标的所在行位于屏幕中央。 


*光标向下移动： 

输入"j". 

或输入"[下箭头]". 

这里，方向移动的指令和vim编辑器中的一样，如果上下超过了页面边缘，那么会自动滚动半页使光标的所在行位于屏幕中央。 


*光标向左移动： 

输入"h". 

或输入"[左箭头]". 

这里，方向移动的指令和vim编辑器中的一样。 


*光标向右移动： 

输入"l". 

或输入"[右箭头]". 

这里，方向移动的指令和vim编辑器中的一样。 


*退出w3m: 

输入"q". 


*切换是否接受鼠标动作： 

输入"m". 

这样切换w3m是否接受鼠标动作。如果不接受鼠标动作，在X系统下面可以用鼠标选择文本，否则接受鼠标的话就无法选择文本但是能够用鼠标点击链接并打开。 


*搜索字符串 

输入"/<你要搜索的字符串>" .

这里，和vi上面的一样。 


** 


[其它]

参考资料： 

http://hi.baidu.com/sophie198384/blog/item/cc697c163305cf1e972b4353.html 

手册 


以上是使用w3m工具的总结。 

作者：QuietHeart 

Email:quiet_heart000@126.com 

时间：2009年9月1日 
